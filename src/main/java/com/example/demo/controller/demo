package com.example.demo.entity;

import jakarta.persistence.*;
import jakarta.validation.constraints.*;

import java.time.LocalDateTime;
import java.util.List;

@Entity
@Table(name = "student_profile")
public class StudentProfile {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @NotBlank(message = "Student identifier is mandatory")
    @Column(unique = true, nullable = false)
    private String studentId;

    @NotBlank(message = "Student name is mandatory")
    private String name;

    @Email(message = "Email is not valid")
    @NotBlank(message = "Email is mandatory")
    @Column(unique = true)
    private String email;

    @NotBlank(message = "Program is mandatory")
    private String program;

    @NotNull(message = "Year level is mandatory")
    @Min(value = 1, message = "Year level must be at least 1")
    @Max(value = 8, message = "Year level cannot exceed 8")
    private Integer yearLevel;

    private Boolean isRepeatOffender = false;

    private LocalDateTime createdAt;

    @OneToMany(mappedBy = "studentProfile")
    private List<IntegrityCase> integrityCases;

    @PrePersist
    public void onCreate() {
        this.createdAt = LocalDateTime.now();
    }

    // getters & setters
}                                                                                                                                                                             package com.example.demo.entity;

import jakarta.persistence.*;
import jakarta.validation.constraints.*;

import java.time.LocalDate;
import java.time.LocalDateTime;

@Entity
@Table(name = "integrity_case")
public class IntegrityCase {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @NotNull(message = "Student profile is mandatory")
    @ManyToOne
    @JoinColumn(name = "student_id")
    private StudentProfile studentProfile;

    @NotBlank(message = "Course code is mandatory")
    private String courseCode;

    @NotBlank(message = "Instructor name is mandatory")
    private String instructorName;

    @NotBlank(message = "Case description is mandatory")
    private String description;

    private String status;

    @NotNull(message = "Incident date is mandatory")
    private LocalDate incidentDate;

    private LocalDateTime createdAt;

    @PrePersist
    public void prePersist() {
        this.createdAt = LocalDateTime.now();
        this.status = "OPEN";
    }

    // getters & setters
}
 package com.example.demo.entity;

import jakarta.persistence.*;
import jakarta.validation.constraints.*;

import java.time.LocalDateTime;

@Entity
@Table(name = "evidence_record")
public class EvidenceRecord {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @NotNull(message = "Integrity case is mandatory")
    @ManyToOne
    @JoinColumn(name = "case_id")
    private IntegrityCase integrityCase;

    @NotBlank(message = "Evidence type is mandatory")
    private String evidenceType;

    @NotBlank(message = "Evidence content is mandatory")
    private String content;

    @NotBlank(message = "Submitted by is mandatory")
    private String submittedBy;

    private LocalDateTime submittedAt;

    @PrePersist
    public void prePersist() {
        this.submittedAt = LocalDateTime.now();
    }

    // getters & setters
}                       package com.example.demo.entity;

import jakarta.persistence.*;
import jakarta.validation.constraints.*;

import java.time.LocalDateTime;

@Entity
@Table(name = "penalty_action")
public class PenaltyAction {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @NotNull(message = "Integrity case is mandatory")
    @ManyToOne
    @JoinColumn(name = "case_id")
    private IntegrityCase integrityCase;

    @NotBlank(message = "Penalty type is mandatory")
    private String penaltyType;

    @NotBlank(message = "Penalty details are mandatory")
    private String details;

    @NotBlank(message = "Issued by is mandatory")
    private String issuedBy;

    private LocalDateTime issuedAt;

    @PrePersist
    public void prePersist() {
        this.issuedAt = LocalDateTime.now();
    }

    // getters & setters
}
 package com.example.demo.entity;

import jakarta.persistence.*;
import jakarta.validation.constraints.*;

import java.time.LocalDate;

@Entity
@Table(name = "repeat_offender_record")
public class RepeatOffenderRecord {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @NotNull(message = "Student profile is mandatory")
    @ManyToOne
    @JoinColumn(name = "student_id")
    private StudentProfile studentProfile;

    @NotNull(message = "Total cases is mandatory")
    @Min(value = 1, message = "Total cases must be at least 1")
    private Integer totalCases;

    @NotNull(message = "Last incident date is mandatory")
    private LocalDate lastIncidentDate;

    @NotBlank(message = "Flag severity is mandatory")
    private String flagSeverity;

    // getters & setters
}
