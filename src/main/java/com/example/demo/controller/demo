package com.example.demo.repository;

import com.example.demo.entity.PenaltyAction;
import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;

import java.util.List;

@Repository
public interface PenaltyActionRepository extends JpaRepository<PenaltyAction, Long> {

    List<PenaltyAction> findByIntegrityCaseId(Long caseId);
}         000000000   package com.example.demo.service;

import com.example.demo.entity.PenaltyAction;
import java.util.List;

public interface PenaltyActionService {

    PenaltyAction addPenalty(PenaltyAction penalty);
    List<PenaltyAction> getAllPenalties();
    PenaltyAction getPenaltyById(Long id);
    List<PenaltyAction> getPenaltiesByCase(Long caseId);
}
 package com.example.demo.service.impl;

import com.example.demo.entity.PenaltyAction;
import com.example.demo.repository.PenaltyActionRepository;
import com.example.demo.service.PenaltyActionService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import java.util.List;
import java.util.Optional;

@Service
public class PenaltyActionServiceImpl implements PenaltyActionService {

    @Autowired
    private PenaltyActionRepository repository;

    @Override
    public PenaltyAction addPenalty(PenaltyAction penalty) {
        return repository.save(penalty);
    }

    @Override
    public List<PenaltyAction> getAllPenalties() {
        return repository.findAll();
    }

    @Override
    public PenaltyAction getPenaltyById(Long id) {
        Optional<PenaltyAction> penalty = repository.findById(id);
        return penalty.orElse(null); // or throw custom exception
    }

    @Override
    public List<PenaltyAction> getPenaltiesByCase(Long caseId) {
        return repository.findByIntegrityCaseId(caseId);
    }
}               0000000 package com.example.demo.controller;

import com.example.demo.entity.PenaltyAction;
import com.example.demo.service.PenaltyActionService;
import jakarta.validation.Valid;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;

import java.util.List;

@RestController
@RequestMapping("/api/penalties")
public class PenaltyActionController {

    @Autowired
    private PenaltyActionService service;

    @PostMapping
    public PenaltyAction addPenalty(@Valid @RequestBody PenaltyAction penalty) {
        return service.addPenalty(penalty);
    }

    @GetMapping
    public List<PenaltyAction> getAllPenalties() {
        return service.getAllPenalties();
    }

    @GetMapping("/{id}")
    public PenaltyAction getPenaltyById(@PathVariable Long id) {
        return service.getPenaltyById(id);
    }

    @GetMapping("/case/{caseId}")
    public List<PenaltyAction> getPenaltiesByCase(@PathVariable Long caseId) {
        return service.getPenaltiesByCase(caseId);
    }
}
 